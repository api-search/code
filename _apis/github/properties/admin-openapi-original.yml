openapi: 3.1.0
info:
  title: Admin
  description: Needs a description.
paths:
  /admin/hooks:
    get:
      summary: List global webhooks
      description: ''
      operationId: enterprise-admin/list-global-webhooks
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/global-webhooks#list-global-webhooks
      parameters:
        - $ref: '#/components/parameters/per-page'
        - $ref: '#/components/parameters/page'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/global-hook'
              examples:
                default:
                  $ref: '#/components/examples/global-hook-items'
          headers:
            Link:
              $ref: '#/components/headers/link'
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: global-webhooks
    post:
      summary: Create a global webhook
      description: ''
      operationId: enterprise-admin/create-global-webhook
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/global-webhooks#create-a-global-webhook
      responses:
        '201':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/global-hook'
              examples:
                default:
                  $ref: '#/components/examples/global-hook'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Must be passed as "web".
                config:
                  type: object
                  description: Key/value pairs to provide settings for this webhook.
                  properties:
                    url:
                      type: string
                      description: The URL to which the payloads will be delivered.
                    content_type:
                      type: string
                      description: >-
                        The media type used to serialize the payloads. Supported
                        values include `json` and `form`. The default is `form`.
                    secret:
                      type: string
                      description: >-
                        If provided, the `secret` will be used as the `key` to
                        generate the HMAC hex digest value in the
                        [`X-Hub-Signature`](https://docs.github.com/enterprise-server@3.9/webhooks/event-payloads/#delivery-headers)
                        header.
                    insecure_ssl:
                      type: string
                      description: >-
                        Determines whether the SSL certificate of the host for
                        `url` will be verified when delivering payloads.
                        Supported values include `0` (verification is performed)
                        and `1` (verification is not performed). The default is
                        `0`. **We strongly recommend not setting this to `1` as
                        you are subject to man-in-the-middle and other
                        attacks.**
                  required:
                    - url
                events:
                  type: array
                  description: >-
                    The
                    [events](https://docs.github.com/enterprise-server@3.9/webhooks/event-payloads)
                    that trigger this webhook. A global webhook can be triggered
                    by `user` and `organization` events. Default: `user` and
                    `organization`.
                  items:
                    type: string
                active:
                  type: boolean
                  description: >-
                    Determines if notifications are sent when the webhook is
                    triggered. Set to `true` to send notifications.
                  default: true
              required:
                - name
                - config
            examples:
              default:
                value:
                  name: web
                  events:
                    - organization
                    - user
                  config:
                    url: https://example.com/webhook
                    content_type: json
                    secret: secret
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: global-webhooks
  /admin/hooks/{hook_id}:
    get:
      summary: Get a global webhook
      description: ''
      operationId: enterprise-admin/get-global-webhook
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/global-webhooks#get-a-global-webhook
      parameters:
        - $ref: '#/components/parameters/hook-id'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/global-hook'
              examples:
                default:
                  $ref: '#/components/examples/global-hook'
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: global-webhooks
    patch:
      summary: Update a global webhook
      description: >-
        Parameters that are not provided will be overwritten with the default
        value or removed if no default exists.
      operationId: enterprise-admin/update-global-webhook
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/global-webhooks#update-a-global-webhook
      parameters:
        - $ref: '#/components/parameters/hook-id'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/global-hook-2'
              examples:
                default:
                  $ref: '#/components/examples/global-hook-2'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                config:
                  type: object
                  description: Key/value pairs to provide settings for this webhook.
                  properties:
                    url:
                      type: string
                      description: The URL to which the payloads will be delivered.
                    content_type:
                      type: string
                      description: >-
                        The media type used to serialize the payloads. Supported
                        values include `json` and `form`. The default is `form`.
                    secret:
                      type: string
                      description: >-
                        If provided, the `secret` will be used as the `key` to
                        generate the HMAC hex digest value in the
                        [`X-Hub-Signature`](https://docs.github.com/enterprise-server@3.9/webhooks/event-payloads/#delivery-headers)
                        header.
                    insecure_ssl:
                      type: string
                      description: >-
                        Determines whether the SSL certificate of the host for
                        `url` will be verified when delivering payloads.
                        Supported values include `0` (verification is performed)
                        and `1` (verification is not performed). The default is
                        `0`. **We strongly recommend not setting this to `1` as
                        you are subject to man-in-the-middle and other
                        attacks.**
                  required:
                    - url
                events:
                  type: array
                  description: >-
                    The
                    [events](https://docs.github.com/enterprise-server@3.9/webhooks/event-payloads)
                    that trigger this webhook. A global webhook can be triggered
                    by `user` and `organization` events. Default: `user` and
                    `organization`.
                  items:
                    type: string
                active:
                  type: boolean
                  description: >-
                    Determines if notifications are sent when the webhook is
                    triggered. Set to `true` to send notifications.
                  default: true
            examples:
              default:
                value:
                  events:
                    - organization
                  config:
                    url: https://example.com/webhook
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: global-webhooks
    delete:
      summary: Delete a global webhook
      description: ''
      operationId: enterprise-admin/delete-global-webhook
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/global-webhooks#delete-a-global-webhook
      parameters:
        - $ref: '#/components/parameters/hook-id'
      responses:
        '204':
          description: Response
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: global-webhooks
  /admin/hooks/{hook_id}/pings:
    post:
      summary: Ping a global webhook
      description: >-
        This will trigger a [ping
        event](https://docs.github.com/enterprise-server@3.9/webhooks/#ping-event)
        to be sent to the webhook.
      operationId: enterprise-admin/ping-global-webhook
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/global-webhooks#ping-a-global-webhook
      parameters:
        - $ref: '#/components/parameters/hook-id'
      responses:
        '204':
          description: Response
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: global-webhooks
  /admin/keys:
    get:
      summary: List public keys
      description: ''
      operationId: enterprise-admin/list-public-keys
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/users#list-public-keys
      parameters:
        - $ref: '#/components/parameters/per-page'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/direction'
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - created
              - updated
              - accessed
            default: created
        - name: since
          description: Only show public keys accessed after the given time.
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/public-key-full'
              examples:
                default:
                  $ref: '#/components/examples/enterprise-public-key-items'
          headers:
            Link:
              $ref: '#/components/headers/link'
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: users
  /admin/keys/{key_ids}:
    delete:
      summary: Delete a public key
      description: ''
      operationId: enterprise-admin/delete-public-key
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/users#delete-a-public-key
      parameters:
        - $ref: '#/components/parameters/key-ids'
      responses:
        '204':
          description: Response
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: users
  /admin/ldap/teams/{team_id}/mapping:
    patch:
      summary: Update LDAP mapping for a team
      description: >-
        Updates the [distinguished name](https://www.ldap.com/ldap-dns-and-rdns)
        (DN) of the LDAP entry to map to a team. [LDAP
        synchronization](https://docs.github.com/enterprise-server@3.9/admin/identity-and-access-management/using-ldap-for-enterprise-iam/using-ldap#enabling-ldap-sync)
        must be enabled to map LDAP entries to a team. Use the [Create a
        team](https://docs.github.com/enterprise-server@3.9/rest/teams/teams/#create-a-team)
        endpoint to create a team with LDAP mapping.
      operationId: enterprise-admin/update-ldap-mapping-for-team
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/ldap#update-ldap-mapping-for-a-team
      parameters:
        - $ref: '#/components/parameters/team-id'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ldap-mapping-team'
              examples:
                default:
                  $ref: '#/components/examples/ldap-mapping-team'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                ldap_dn:
                  type: string
                  description: >-
                    The [distinguished
                    name](https://www.ldap.com/ldap-dns-and-rdns) (DN) of the
                    LDAP entry to map to a team.
              required:
                - ldap_dn
            examples:
              default:
                value:
                  ldap_dn: cn=Enterprise Ops,ou=teams,dc=github,dc=com
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: ldap
  /admin/ldap/teams/{team_id}/sync:
    post:
      summary: Sync LDAP mapping for a team
      description: >-
        Note that this API call does not automatically initiate an LDAP sync.
        Rather, if a `201` is returned, the sync job is queued successfully, and
        is performed when the instance is ready.
      operationId: enterprise-admin/sync-ldap-mapping-for-team
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/ldap#sync-ldap-mapping-for-a-team
      parameters:
        - $ref: '#/components/parameters/team-id'
      responses:
        '201':
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
              examples:
                default:
                  value:
                    status: queued
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: ldap
  /admin/ldap/users/{username}/mapping:
    patch:
      summary: Update LDAP mapping for a user
      description: ''
      operationId: enterprise-admin/update-ldap-mapping-for-user
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/ldap#update-ldap-mapping-for-a-user
      parameters:
        - $ref: '#/components/parameters/username'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ldap-mapping-user'
              examples:
                default:
                  $ref: '#/components/examples/ldap-mapping-user'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                ldap_dn:
                  type: string
                  description: >-
                    The [distinguished
                    name](https://www.ldap.com/ldap-dns-and-rdns) (DN) of the
                    LDAP entry to map to a team.
              required:
                - ldap_dn
            examples:
              default:
                value:
                  ldap_dn: uid=asdf,ou=users,dc=github,dc=com
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: ldap
  /admin/ldap/users/{username}/sync:
    post:
      summary: Sync LDAP mapping for a user
      description: >-
        Note that this API call does not automatically initiate an LDAP sync.
        Rather, if a `201` is returned, the sync job is queued successfully, and
        is performed when the instance is ready.
      operationId: enterprise-admin/sync-ldap-mapping-for-user
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/ldap#sync-ldap-mapping-for-a-user
      parameters:
        - $ref: '#/components/parameters/username'
      responses:
        '201':
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
              examples:
                default:
                  value:
                    status: queued
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: ldap
  /admin/organizations:
    post:
      summary: Create an organization
      description: ''
      operationId: enterprise-admin/create-org
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/orgs#create-an-organization
      responses:
        '201':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/organization-simple'
              examples:
                default:
                  $ref: '#/components/examples/organization-simple'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                login:
                  type: string
                  description: The organization's username.
                admin:
                  type: string
                  description: The login of the user who will manage this organization.
                profile_name:
                  type: string
                  description: The organization's display name.
              required:
                - login
                - admin
            examples:
              default:
                value:
                  login: github
                  profile_name: GitHub, Inc.
                  admin: monalisaoctocat
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: orgs
  /admin/organizations/{org}:
    patch:
      summary: Update an organization name
      description: ''
      operationId: enterprise-admin/update-org-name
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/orgs#update-an-organization-name
      parameters:
        - $ref: '#/components/parameters/org'
      responses:
        '202':
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  url:
                    type: string
              examples:
                default:
                  value:
                    message: >-
                      Job queued to rename organization. It may take a few
                      minutes to complete.
                    url: https://<hostname>/api/v3/organizations/1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                login:
                  type: string
                  description: The organization's new name.
              required:
                - login
            examples:
              default:
                value:
                  login: the-new-octocats
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: orgs
  /admin/pre-receive-environments:
    get:
      summary: List pre-receive environments
      description: ''
      operationId: enterprise-admin/list-pre-receive-environments
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-environments#list-pre-receive-environments
      parameters:
        - $ref: '#/components/parameters/per-page'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/direction'
        - name: sort
          in: query
          required: false
          schema:
            type: string
            enum:
              - created
              - updated
              - name
            default: created
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/pre-receive-environment'
              examples:
                default:
                  $ref: '#/components/examples/pre-receive-environment-items'
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-environments
    post:
      summary: Create a pre-receive environment
      description: ''
      operationId: enterprise-admin/create-pre-receive-environment
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-environments#create-a-pre-receive-environment
      responses:
        '201':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pre-receive-environment'
              examples:
                default:
                  $ref: '#/components/examples/pre-receive-environment'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The new pre-receive environment's name.
                image_url:
                  type: string
                  description: URL from which to download a tarball of this environment.
              required:
                - name
                - image_url
            examples:
              default:
                value:
                  name: DevTools Hook Env
                  image_url: https://my_file_server/path/to/devtools_env.tar.gz
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-environments
  /admin/pre-receive-environments/{pre_receive_environment_id}:
    get:
      summary: Get a pre-receive environment
      description: ''
      operationId: enterprise-admin/get-pre-receive-environment
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-environments#get-a-pre-receive-environment
      parameters:
        - $ref: '#/components/parameters/pre-receive-environment-id'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pre-receive-environment'
              examples:
                default:
                  $ref: '#/components/examples/pre-receive-environment'
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-environments
    patch:
      summary: Update a pre-receive environment
      description: >-
        You cannot modify the default environment. If you attempt to modify the
        default environment, you will receive a `422 Unprocessable Entity`
        response.
      operationId: enterprise-admin/update-pre-receive-environment
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-environments#update-a-pre-receive-environment
      parameters:
        - $ref: '#/components/parameters/pre-receive-environment-id'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pre-receive-environment'
              examples:
                default-response:
                  $ref: >-
                    #/components/examples/pre-receive-environment-default-response
        '422':
          description: Client Errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        resource:
                          type: string
                        code:
                          type: string
                        message:
                          type: string
              examples:
                client-errors:
                  value:
                    message: Validation Failed
                    errors:
                      - resource: PreReceiveEnvironment
                        code: custom
                        message: Cannot modify or delete the default environment
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: This pre-receive environment's new name.
                image_url:
                  type: string
                  description: URL from which to download a tarball of this environment.
            examples:
              default:
                value:
                  name: DevTools Hook Env
                  image_url: https://my_file_server/path/to/devtools_env.tar.gz
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-environments
    delete:
      summary: Delete a pre-receive environment
      description: >-
        If you attempt to delete an environment that cannot be deleted, you will
        receive a `422 Unprocessable Entity` response.


        The possible error messages are:


        *   _Cannot modify or delete the default environment_

        *   _Cannot delete environment that has hooks_

        *   _Cannot delete environment when download is in progress_
      operationId: enterprise-admin/delete-pre-receive-environment
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-environments#delete-a-pre-receive-environment
      parameters:
        - $ref: '#/components/parameters/pre-receive-environment-id'
      responses:
        '204':
          description: Response
        '422':
          description: Client Errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        resource:
                          type: string
                        code:
                          type: string
                        message:
                          type: string
              examples:
                client-errors:
                  value:
                    message: Validation Failed
                    errors:
                      - resource: PreReceiveEnvironment
                        code: custom
                        message: Cannot modify or delete the default environment
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-environments
  /admin/pre-receive-environments/{pre_receive_environment_id}/downloads:
    post:
      summary: Start a pre-receive environment download
      description: >-
        Triggers a new download of the environment tarball from the
        environment's `image_url`. When the download is finished, the newly
        downloaded tarball will overwrite the existing environment.


        If a download cannot be triggered, you will receive a `422 Unprocessable
        Entity` response.


        The possible error messages are:


        * _Cannot modify or delete the default environment_

        * _Can not start a new download when a download is in progress_
      operationId: enterprise-admin/start-pre-receive-environment-download
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-environments#start-a-pre-receive-environment-download
      parameters:
        - $ref: '#/components/parameters/pre-receive-environment-id'
      responses:
        '202':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pre-receive-environment-download-status'
              examples:
                default-response:
                  $ref: >-
                    #/components/examples/pre-receive-environment-download-status-default-response
        '422':
          description: Client Errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        resource:
                          type: string
                        code:
                          type: string
                        message:
                          type: string
              examples:
                client-errors:
                  value:
                    message: Validation Failed
                    errors:
                      - resource: PreReceiveEnvironment
                        code: custom
                        message: >-
                          Can not start a new download when a download is in
                          progress
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-environments
  /admin/pre-receive-environments/{pre_receive_environment_id}/downloads/latest:
    get:
      summary: Get the download status for a pre-receive environment
      description: >-
        In addition to seeing the download status at the "[Get a pre-receive
        environment](#get-a-pre-receive-environment)" endpoint, there is also
        this separate endpoint for just the download status.
      operationId: enterprise-admin/get-download-status-for-pre-receive-environment
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-environments#get-the-download-status-for-a-pre-receive-environment
      parameters:
        - $ref: '#/components/parameters/pre-receive-environment-id'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pre-receive-environment-download-status'
              examples:
                default:
                  $ref: >-
                    #/components/examples/pre-receive-environment-download-status
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-environments
  /admin/pre-receive-hooks:
    get:
      summary: List pre-receive hooks
      description: ''
      operationId: enterprise-admin/list-pre-receive-hooks
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-hooks#list-pre-receive-hooks
      parameters:
        - $ref: '#/components/parameters/per-page'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/direction'
        - name: sort
          description: The property to sort the results by.
          in: query
          required: false
          schema:
            type: string
            enum:
              - created
              - updated
              - name
            default: created
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/pre-receive-hook'
              examples:
                default:
                  $ref: '#/components/examples/pre-receive-hook-items'
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-hooks
    post:
      summary: Create a pre-receive hook
      description: ''
      operationId: enterprise-admin/create-pre-receive-hook
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-hooks#create-a-pre-receive-hook
      responses:
        '201':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pre-receive-hook'
              examples:
                default:
                  $ref: '#/components/examples/pre-receive-hook'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The name of the hook.
                script:
                  type: string
                  description: The script that the hook runs.
                script_repository:
                  type: object
                  description: The GitHub repository where the script is kept.
                  properties: {}
                  additionalProperties: true
                environment:
                  type: object
                  description: The pre-receive environment where the script is executed.
                  properties: {}
                  additionalProperties: true
                enforcement:
                  type: string
                  description: 'The state of enforcement for this hook. default: `disabled`'
                allow_downstream_configuration:
                  type: boolean
                  description: >-
                    Whether enforcement can be overridden at the org or repo
                    level. default: `false`
              required:
                - name
                - script
                - script_repository
                - environment
            examples:
              default:
                value:
                  name: Check Commits
                  script: scripts/commit_check.sh
                  enforcement: disabled
                  allow_downstream_configuration: false
                  script_repository:
                    full_name: DevIT/hooks
                  environment:
                    id: 2
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-hooks
  /admin/pre-receive-hooks/{pre_receive_hook_id}:
    get:
      summary: Get a pre-receive hook
      description: ''
      operationId: enterprise-admin/get-pre-receive-hook
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-hooks#get-a-pre-receive-hook
      parameters:
        - $ref: '#/components/parameters/pre-receive-hook-id'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pre-receive-hook'
              examples:
                default:
                  $ref: '#/components/examples/pre-receive-hook'
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-hooks
    patch:
      summary: Update a pre-receive hook
      description: ''
      operationId: enterprise-admin/update-pre-receive-hook
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-hooks#update-a-pre-receive-hook
      parameters:
        - $ref: '#/components/parameters/pre-receive-hook-id'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pre-receive-hook'
              examples:
                default:
                  $ref: '#/components/examples/pre-receive-hook-2'
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The name of the hook.
                script:
                  type: string
                  description: The script that the hook runs.
                script_repository:
                  type: object
                  description: The GitHub repository where the script is kept.
                  properties: {}
                  additionalProperties: true
                environment:
                  type: object
                  description: The pre-receive environment where the script is executed.
                  properties: {}
                  additionalProperties: true
                enforcement:
                  type: string
                  description: The state of enforcement for this hook.
                allow_downstream_configuration:
                  type: boolean
                  description: >-
                    Whether enforcement can be overridden at the org or repo
                    level.
            examples:
              default:
                value:
                  name: Check Commits
                  environment:
                    id: 1
                  allow_downstream_configuration: true
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-hooks
    delete:
      summary: Delete a pre-receive hook
      description: ''
      operationId: enterprise-admin/delete-pre-receive-hook
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/pre-receive-hooks#delete-a-pre-receive-hook
      parameters:
        - $ref: '#/components/parameters/pre-receive-hook-id'
      responses:
        '204':
          description: Response
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: pre-receive-hooks
  /admin/tokens:
    get:
      summary: List personal access tokens
      description: Lists personal access tokens for all users, including admin users.
      operationId: enterprise-admin/list-personal-access-tokens
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/users#list-personal-access-tokens
      parameters:
        - $ref: '#/components/parameters/per-page'
        - $ref: '#/components/parameters/page'
      responses:
        '200':
          description: Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/authorization'
              examples:
                default:
                  $ref: '#/components/examples/authorization-items'
          headers:
            Link:
              $ref: '#/components/headers/link'
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: users
  /admin/tokens/{token_id}:
    delete:
      summary: Delete a personal access token
      description: >-
        Deletes a personal access token. Returns a `403 - Forbidden` status when
        a personal access token is in use. For example, if you access this
        endpoint with the same personal access token that you are trying to
        delete, you will receive this error.
      operationId: enterprise-admin/delete-personal-access-token
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/users#delete-a-personal-access-token
      parameters:
        - $ref: '#/components/parameters/token-id'
      responses:
        '204':
          description: Response
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: users
  /admin/users:
    post:
      summary: Create a user
      description: >-
        If an external authentication mechanism is used, the login name should
        match the login name in the external system. If you are using LDAP
        authentication, you should also [update the LDAP
        mapping](https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/ldap#update-ldap-mapping-for-a-user)
        for the user.


        The login name will be normalized to only contain alphanumeric
        characters or single hyphens. For example, if you send `"octo_cat"` as
        the login, a user named `"octo-cat"` will be created.


        If the login name or email address is already associated with an
        account, the server will return a `422` response.
      operationId: enterprise-admin/create-user
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/users#create-a-user
      responses:
        '201':
          description: Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/simple-user'
              examples:
                default:
                  $ref: '#/components/examples/simple-user'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                login:
                  type: string
                  description: The user's username.
                email:
                  type: string
                  description: >-
                    **Required for built-in authentication.** The user's email

                    address. This parameter can be omitted when using CAS, LDAP,
                    or SAML.

                    For more information, see "[About authentication for your
                    enterprise](https://docs.github.com/enterprise-server@3.9/admin/identity-and-access-management/managing-iam-for-your-enterprise/about-authentication-for-your-enterprise)."
                suspended:
                  type: boolean
                  description: >-
                    Whether to set the user as suspended when the user is
                    created.
                  default: false
              required:
                - login
            examples:
              default:
                value:
                  login: monalisa
                  email: octocat@github.com
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: users
  /admin/users/{username}:
    patch:
      summary: Update the username for a user
      description: ''
      operationId: enterprise-admin/update-username-for-user
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/users#update-the-username-for-a-user
      parameters:
        - $ref: '#/components/parameters/username'
      responses:
        '202':
          description: Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  url:
                    type: string
              examples:
                default:
                  value:
                    message: >-
                      Job queued to rename user. It may take a few minutes to
                      complete.
                    url: https://api.github.com/user/1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                login:
                  type: string
                  description: The user's new username.
              required:
                - login
            examples:
              default:
                value:
                  login: thenewmonalisa
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: users
    delete:
      summary: Delete a user
      description: >-
        Deleting a user will delete all their repositories, gists, applications,
        and personal settings. [Suspending a
        user](https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/users#suspend-a-user)
        is often a better option.


        You can delete any user account except your own.
      operationId: enterprise-admin/delete-user
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/users#delete-a-user
      parameters:
        - $ref: '#/components/parameters/username'
      responses:
        '204':
          description: Response
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: users
  /admin/users/{username}/authorizations:
    post:
      summary: Create an impersonation OAuth token
      description: ''
      operationId: enterprise-admin/create-impersonation-o-auth-token
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/users#create-an-impersonation-oauth-token
      parameters:
        - $ref: '#/components/parameters/username'
      responses:
        '200':
          description: Response when getting an existing impersonation OAuth token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/authorization'
              examples:
                default:
                  $ref: '#/components/examples/authorization'
        '201':
          description: Response when creating a new impersonation OAuth token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/authorization'
              examples:
                default:
                  $ref: '#/components/examples/authorization'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                scopes:
                  type: array
                  description: >-
                    A list of
                    [scopes](https://docs.github.com/enterprise-server@3.9/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/).
                  items:
                    type: string
              required:
                - scopes
            examples:
              default:
                value:
                  scopes:
                    - public_repo
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: users
    delete:
      summary: Delete an impersonation OAuth token
      description: ''
      operationId: enterprise-admin/delete-impersonation-o-auth-token
      tags:
        - - - - enterprise-admin
      externalDocs:
        description: API method documentation
        url: >-
          https://docs.github.com/enterprise-server@3.9/rest/enterprise-admin/users#delete-an-impersonation-oauth-token
      parameters:
        - $ref: '#/components/parameters/username'
      responses:
        '204':
          description: Response
      x-github:
        githubCloudOnly: false
        enabledForGitHubApps: false
        category: enterprise-admin
        subcategory: users
components:
  schemas:
    global-hook:
      type: object
      properties:
        type:
          type: string
        id:
          type: integer
        name:
          type: string
        active:
          type: boolean
        events:
          type: array
          items:
            type: string
        config:
          type: object
          properties:
            url:
              type: string
            content_type:
              type: string
            insecure_ssl:
              type: string
            secret:
              type: string
        updated_at:
          type: string
        created_at:
          type: string
        url:
          type: string
        ping_url:
          type: string
    global-hook-2:
      type: object
      properties:
        type:
          type: string
        id:
          type: integer
        name:
          type: string
        active:
          type: boolean
        events:
          type: array
          items:
            type: string
        config:
          type: object
          properties:
            url:
              type: string
            content_type:
              type: string
            insecure_ssl:
              type: string
        updated_at:
          type: string
        created_at:
          type: string
        url:
          type: string
        ping_url:
          type: string
    ldap-mapping-team:
      type: object
      properties:
        ldap_dn:
          type: string
        id:
          type: integer
        node_id:
          type: string
        url:
          type: string
        html_url:
          type: string
        name:
          type: string
        slug:
          type: string
        description:
          type: string
          nullable: true
        privacy:
          type: string
        permission:
          type: string
        members_url:
          type: string
        repositories_url:
          type: string
        parent:
          nullable: true
    ldap-mapping-user:
      title: Ldap Private User
      description: Ldap Private User
      type: object
      properties:
        ldap_dn:
          type: string
        login:
          type: string
          example: octocat
        id:
          type: integer
          example: 1
        node_id:
          type: string
          example: MDQ6VXNlcjE=
        avatar_url:
          type: string
          format: uri
          example: https://github.com/images/error/octocat_happy.gif
        gravatar_id:
          type: string
          example: 41d064eb2195891e12d0413f63227ea7
          nullable: true
        url:
          type: string
          format: uri
          example: https://api.github.com/users/octocat
        html_url:
          type: string
          format: uri
          example: https://github.com/octocat
        followers_url:
          type: string
          format: uri
          example: https://api.github.com/users/octocat/followers
        following_url:
          type: string
          example: https://api.github.com/users/octocat/following{/other_user}
        gists_url:
          type: string
          example: https://api.github.com/users/octocat/gists{/gist_id}
        starred_url:
          type: string
          example: https://api.github.com/users/octocat/starred{/owner}{/repo}
        subscriptions_url:
          type: string
          format: uri
          example: https://api.github.com/users/octocat/subscriptions
        organizations_url:
          type: string
          format: uri
          example: https://api.github.com/users/octocat/orgs
        repos_url:
          type: string
          format: uri
          example: https://api.github.com/users/octocat/repos
        events_url:
          type: string
          example: https://api.github.com/users/octocat/events{/privacy}
        received_events_url:
          type: string
          format: uri
          example: https://api.github.com/users/octocat/received_events
        type:
          type: string
          example: User
        site_admin:
          type: boolean
        name:
          type: string
          example: monalisa octocat
          nullable: true
        company:
          type: string
          example: GitHub
          nullable: true
        blog:
          type: string
          example: https://github.com/blog
          nullable: true
        location:
          type: string
          example: San Francisco
          nullable: true
        email:
          type: string
          format: email
          example: octocat@github.com
          nullable: true
        hireable:
          type: boolean
          nullable: true
        bio:
          type: string
          example: There once was...
          nullable: true
        twitter_username:
          type: string
          example: monalisa
          nullable: true
        public_repos:
          type: integer
          example: 2
        public_gists:
          type: integer
          example: 1
        followers:
          type: integer
          example: 20
        following:
          type: integer
          example: 0
        created_at:
          type: string
          format: date-time
          example: '2008-01-14T04:33:35Z'
        updated_at:
          type: string
          format: date-time
          example: '2008-01-14T04:33:35Z'
        private_gists:
          type: integer
          example: 81
        total_private_repos:
          type: integer
          example: 100
        owned_private_repos:
          type: integer
          example: 100
        disk_usage:
          type: integer
          example: 10000
        collaborators:
          type: integer
          example: 8
        two_factor_authentication:
          type: boolean
          example: true
        plan:
          type: object
          properties:
            collaborators:
              type: integer
            name:
              type: string
            space:
              type: integer
            private_repos:
              type: integer
          required:
            - collaborators
            - name
            - space
            - private_repos
        suspended_at:
          type: string
          format: date-time
          nullable: true
        business_plus:
          type: boolean
      required:
        - avatar_url
        - events_url
        - followers_url
        - following_url
        - gists_url
        - gravatar_id
        - html_url
        - id
        - node_id
        - login
        - organizations_url
        - received_events_url
        - repos_url
        - site_admin
        - starred_url
        - subscriptions_url
        - type
        - url
        - bio
        - blog
        - company
        - email
        - followers
        - following
        - hireable
        - location
        - name
        - public_gists
        - public_repos
        - created_at
        - updated_at
        - collaborators
        - disk_usage
        - owned_private_repos
        - private_gists
        - total_private_repos
        - two_factor_authentication
    pre-receive-environment:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        image_url:
          type: string
        url:
          type: string
        html_url:
          type: string
        default_environment:
          type: boolean
        created_at:
          type: string
        hooks_count:
          type: integer
        download:
          type: object
          properties:
            url:
              type: string
            state:
              type: string
            downloaded_at:
              nullable: true
              type: string
            message:
              nullable: true
              type: string
    pre-receive-environment-download-status:
      type: object
      properties:
        url:
          type: string
        state:
          type: string
        downloaded_at:
          nullable: true
          type: string
        message:
          nullable: true
          type: string
    pre-receive-hook:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        enforcement:
          type: string
        script:
          type: string
        script_repository:
          type: object
          properties:
            id:
              type: integer
            full_name:
              type: string
            url:
              type: string
            html_url:
              type: string
        environment:
          type: object
          properties:
            id:
              type: integer
            name:
              type: string
            image_url:
              type: string
            url:
              type: string
            html_url:
              type: string
            default_environment:
              type: boolean
            created_at:
              type: string
            hooks_count:
              type: integer
            download:
              type: object
              properties:
                url:
                  type: string
                state:
                  type: string
                downloaded_at:
                  nullable: true
                  type: string
                message:
                  nullable: true
                  type: string
        allow_downstream_configuration:
          type: boolean
    authorization:
      title: Authorization
      description: >-
        The authorization for an OAuth app, GitHub App, or a Personal Access
        Token.
      type: object
      properties:
        id:
          type: integer
        url:
          type: string
          format: uri
        scopes:
          description: A list of scopes that this authorization is in.
          type: array
          items:
            type: string
          nullable: true
        token:
          type: string
        token_last_eight:
          type: string
          nullable: true
        hashed_token:
          type: string
          nullable: true
        app:
          type: object
          properties:
            client_id:
              type: string
            name:
              type: string
            url:
              type: string
              format: uri
          required:
            - client_id
            - name
            - url
        note:
          type: string
          nullable: true
        note_url:
          type: string
          format: uri
          nullable: true
        updated_at:
          type: string
          format: date-time
        created_at:
          type: string
          format: date-time
        fingerprint:
          type: string
          nullable: true
        user:
          $ref: '#/components/schemas/nullable-simple-user'
        installation:
          $ref: '#/components/schemas/nullable-scoped-installation'
        expires_at:
          type: string
          format: date-time
          nullable: true
      required:
        - app
        - id
        - note
        - note_url
        - scopes
        - token
        - hashed_token
        - token_last_eight
        - fingerprint
        - url
        - created_at
        - updated_at
        - expires_at
